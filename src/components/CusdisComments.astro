---
// src/components/CusdisComments.astro
interface Props {
  pageId: string;      // The unique ID of the page, slug is recommended
  pageUrl: string;     // The full URL of the page
  pageTitle?: string;  // The title of the page (optional)
}

const { pageId, pageUrl, pageTitle } = Astro.props;

// This is your dedicated app ID, already hardcoded
const CUSDIS_APP_ID = "fd0af89f-a4f0-4d61-9fbd-8c73e7ce78a6";
---
<div class="cusdis-container">
  <div id="cusdis_thread"
    data-host="https://cusdis.com"
    data-app-id={CUSDIS_APP_ID}
    data-page-id={pageId}
    data-page-url={pageUrl}
    data-page-title={pageTitle}
    data-theme="dark"
  >
  </div>
  <script async defer src="https://cusdis.com/js/cusdis.es.js"></script>
</div>

<style>
  .cusdis-container {
    margin-top: 4rem; /* Only keep the margin for spacing */
  }

  /* 
    Use :global(iframe) to style the iframe generated by Cusdis.
    This is the key to making it look good.
  */
  .cusdis-container :global(iframe) {
    width: 100% !important;
    min-height: 450px !important; /* Ensure enough height to prevent scrolling */
    border-radius: 0.75rem !important; /* Add rounded corners to the iframe itself */
  }
</style> 